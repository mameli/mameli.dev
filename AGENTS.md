# AGENT GUIDELINES

## Project Overview

This is a personal blog and website built with Astro 5, deployed on Vercel. The site features:
*   Static site generation with content collections for blog posts
*   MDX support for rich content authoring
*   Automatic light/dark theme switching via CSS
*   Progressive Web App (PWA) support
*   Vercel Analytics integration
*   RSS feed generation

## Build/Lint/Test Commands:

All commands should be run via Bun. `package.json` provides `dev`, `build`, `preview`, and `astro` scripts.

*   **Build:** `astro build`
    *   Via scripts: `bun run build`
*   **Development Server:** `astro dev`
    *   Via scripts: `bun run dev`
*   **Preview Build:** `astro preview`
    *   Via scripts: `bun run preview`
*   **Astro CLI:** `astro`
    *   Via scripts: `bun run astro -- <args>`
*   **Running single tests:** No explicit test runner or single test command defined.
*   **Linting:** No dedicated linting command found.

## Architecture

### Content Management

Blog posts are managed via Astro's Content Collections API:
*   **Location:** `src/content/blog/` - Blog posts as `.md` or `.mdx` files
*   **Schema:** `src/content.config.ts` (required: `title`, `description`, `pubDate`; `author` defaults to "Mameli"; optional: `heroImage`)
*   **Rendering:** `src/pages/blog/[...slug].astro` uses `getStaticPaths()` to generate static pages at build time

### Key Configuration Files

*   `src/consts.ts`: Global constants including `SITE`, `SITE_TITLE`, and `SITE_DESCRIPTION`
*   `astro.config.mjs`: Astro config + integrations (MDX, sitemap, PWA, Vercel adapter) + markdown syntax highlighting themes
*   `vercel.json`: Vercel headers, caching, and routing
*   `tailwind.config.js`: TailwindCSS + typography customization (including code blocks)
*   `src/styles/global.css`: Global styles
*   `src/types.d.ts`: Project type definitions

### Component Structure

*   `src/layouts/Layout.astro`: Base page layout wrapper
*   `src/layouts/BlogPost.astro`: Blog post layout (metadata + content + footer)
*   `src/components/BaseHead.astro`: SEO meta tags, OpenGraph/Twitter, PWA assets, canonical URLs, font preloading
*   `src/components/FormattedDate.astro`: Date formatting utility component

### Routing & Pages

*   `src/pages/index.astro`: Homepage
*   `src/pages/blog/index.astro`: Blog listing page
*   `src/pages/blog/[...slug].astro`: Dynamic blog post pages from content collection
*   `src/pages/connect.astro`: Contact/social links page
*   `src/pages/rss.xml.js`: RSS feed generation using `@astrojs/rss`

### Styling

*   Uses TailwindCSS 4 with Vite plugin
*   Dark mode via `prose-invert` utility classes
*   Custom code block styling configured in `tailwind.config.js`

### Deployment

*   Uses Vercel adapter with static output mode
*   Security headers and caching configured in `vercel.json`

## Important Implementation Notes

### Adding Blog Posts

1. Create a new `.md` or `.mdx` file in `src/content/blog/`
2. Include required frontmatter: `title`, `description`, `pubDate` (optionally `author`, `heroImage`)
3. The file name becomes the URL slug (e.g., `my-post.md` â†’ `/blog/my-post/`)
4. Build will automatically generate the static page

### Syntax Highlighting

Configured in `astro.config.mjs` to use:
*   Dark theme: `one-dark-pro`
*   Light theme: `solarized-light`

### PWA Configuration

*   Manifest and service worker are auto-generated by `@vite-pwa/astro`
*   PWA is enabled in development mode for testing

## Code Style Guidelines:

*   **TypeScript:** Adhere to strict TypeScript standards as enforced by `astro/tsconfigs/strict` and `strictNullChecks: true` in `tsconfig.json`. Ensure all type definitions are precise and null/undefined values are handled explicitly.
*   **Formatting:** No explicit formatting configuration found. Follow the existing codebase's formatting style.
*   **Naming Conventions, Imports, Error Handling:** Follow the conventions established within the existing codebase.
*   **Cursor/Copilot Rules:** No specific rules defined.
*   **Components:** PascalCase for Astro component filenames.
